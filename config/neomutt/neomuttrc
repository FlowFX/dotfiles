# Most settings are taken from the ever green The Homely Mutt
# https://stevelosh.com/blog/2012/10/the-homely-mutt/

# PATHS -----------------------------
set header_cache = $HOME/.cache/neomutt/headers
set mailcap_path = $HOME/.config/neomutt/mailcap

# BASIC OPTIONS
set mbox_type = Maildir
set wait_key = no       # shut up, mutt
set timeout = 3         # idle time before scanning
set delete              # don't ask, just do
unset confirmappend     # don't ask, just do!
unset mark_old          # read/new is good enough
unset beep              # be quiet!
set pipe_decode         # strip headers and eval mimes when piping
set thorough_search # strip headers and eval mimes before searching

# SIDEBAR -----------------------
set sidebar_visible = yes

# HEADER OPTIONS --------------------------
ignore *                               # ignore all headers
unhdr_order *                          # some distros order things by default
unignore from: to: cc: date: subject:  # show only these
hdr_order from: to: cc: date: subject: # and in this order

# INDEX ----------------------
set sort =threads # Threads!

# PAGER
unset markers    # no ugly plus signs

# MESSAGE
set wrap = 78
set fast_reply = yes    # skip asking for recipient and subject
set include = yes       # include the message in my reply (default: ask-yes)

## Deal with HTML emails
auto_view text/html text/enriched
alternative_order text/plain text/enriched text/html


# MACROS and BINDINGS -------------------------
# Reload configuration file
macro index,pager ,r ":source $HOME/.config/neomutt/neomuttrc<enter>"

source $HOME/.config/neomutt/colors

# ACCOUNTS
# TODO: use msmtp OFFLINE! https://wiki.archlinux.org/index.php/MSMTP#Using_msmtp_offline
set realname = "Florian Posdziech"
source $HOME/.config/neomutt/accounts/$LOCAL_CONFIG
